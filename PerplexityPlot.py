import matplotlib.pyplot as plt
import numpy as np

# 定义数据
number_of_topics = np.arange(1, 51)

perplexity_2019 = [179.24,134.43,105.73,93.19,82.15,82.54,73.46,72.64,71.79,69.66,69.01,68.83,68.80,68.77,69.05,68.91,69.20,68.41,68.58,68.04,68.68,68.25,68.13,69.18,70.52,69.50,70.72,71.24,70.56,71.88,70.38,71.64,73.26,72.87,72.54,73.94,75.51,75.40,75.04,75.58,75.45,75.40,74.40,71.07,70.58,69.30,70.98,70.18,71.57,73.30 ]

perplexity_2020 = [ 163.26,145.85,104.57,94.28,84.25,85.05,74.72,74.44,75.99,75.86,77.37,78.14,79.99,78.15,70.87,74.72,69.54,72.71,74.63,74.90,74.30,74.63,75.88,75.68,67.17,67.92,67.45,69.34,69.13,70.81,68.39,67.15,63.83,62.43,60.41,63.96,60.78,62.78,61.76,61.48,60.62,59.99,61.66,61.46,61.32,63.22,61.21,64.11,60.75,60.62]

perplexity_2021 = [ 267.76,176.45,147.50,128.15,120.36,119.81,116.92,117.40,117.37,115.96,115.67,115.56,115.90,115.86,116.58,115.32,116.02,108.68,109.98,107.79,108.68,112.75,108.87,104.48,105.00,106.88,104.83,108.12,110.92,109.01,105.79,104.40,101.49,107.07,109.15,102.97,101.48,103.98,102.43,107.25,102.00,108.19,104.50,102.39,103.59,103.49,107.60,104.97,100.75,100.84]

perplexity_2022 = [220.47,159.07,133.36,110.81,104.46,92.89,90.95,83.03,82.26,81.05,80.76,80.52,80.02,80.17,80.06,79.58,80.37,79.40,80.07,81.44,81.01,80.52,80.40,80.39,81.57,82.40,82.13,81.23,80.11,82.05,74.87,75.91,75.55,78.06,76.32,77.30,70.20,69.36,70.33,71.82,71.42,74.28,66.84,65.56,65.01,66.62,72.86,70.95,67.27,70.09 ]

perplexity_2023 = [255.72,200.94,170.61,148.17,134.62,122.36,119.71,118.17,117.00,115.71,115.55,115.20,115.38,114.32,113.83,113.73,114.59,114.84,112.77,115.56,114.63,114.52,115.19,115.90,109.49,106.50,110.29,109.00,109.72,103.83,104.28,104.89,103.18,102.13,106.35,108.61,102.65,106.0,106.54,106.30,103.60,108.97,101.78,100.45,100.15,102.79,102.80,103.11,101.02,104.93]

plt.rcParams['font.family'] = 'Times New Roman'
plt.rcParams['font.size'] = 8

# 设置图形参数
plt.figure(figsize=(10, 6))

# 绘制2019年的主题一致性分数
plt.plot(number_of_topics, perplexity_2019, label='2019', marker='o', color='b')

# 绘制2020年的主题一致性分数
plt.plot(number_of_topics, perplexity_2020, label='2020', marker='s', color='g')

# 绘制2021年的主题一致性分数
plt.plot(number_of_topics, perplexity_2021, label='2021', marker='^', color='r')

# 绘制2022年的主题一致性分数
plt.plot(number_of_topics, perplexity_2022, label='2022', marker='D', color='c')

# 绘制2023年的主题一致性分数
plt.plot(number_of_topics, perplexity_2023, label='2023', marker='x', color='m')

# 设置图例
plt.legend(loc='best')

# 添加标题和标签
plt.xlabel('Number of Topics')
plt.ylabel('Perplexity')

# 移除网格线
plt.grid(False)



# 显示图形
plt.show()
